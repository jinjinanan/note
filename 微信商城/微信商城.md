# 微信商城Package Control: install

---
### 问题

#### 重制root 密码
1.  `vim /etc/my.cnf` 编辑配置文件
1.1 [mysqld]下添加 **skip-grant-tables** 
2. `/etc/init.d/mysqld restart  `重启mysqld 
3. `/usr/bin/mysql ` 进入mysql
3.1 `mysql> USE mysql ; `
3.2 ` mysql> UPDATE user SET Password = password ( 'new-password' ) WHERE User = 'root' ; `
3.3 `flush privileges ; `
3.4 `quit`
4. `vim /etc/my.cnf` 删除 **skip-grant-tables**
6. `/etc/init.d/mysqld restart `重启

#### 数据库无法远程登录
1. 授权用户任意地址登录
2. 修改mysql数据库中的user表使相应的用户
3. 检查防火墙禁止端口3306 iptables
4. 修改/etc/mysql/my.cnf配置文件

#### 上传文件
```
	@homePage.route('/exposure',methods=['GET','POST'])
	def exposure():
    from ..Model import Exposure
    from .. import db

    form = ExposureForm()
    if form.validate_on_submit():
        print('name:%s,address:%s'% (form.name.data,form.address.data))
        filename = secure_filename(form.Photo.data.filename)
        path = '/Users/chenlinbo/Desktop/微信商城/WXSFP/app/static/UploadImgs/' + filename
        form.Photo.data.save(path)
        relationPath = url_for('static', filename='UploadImgs/' + filename)
        m = Exposure(filename,relationPath)
        db.session.add(m)
        return redirect('/home')
    return render_template('Home/exposure.html',form = form)
```

#### 循环导入
三种办法：
1. 懒导入(lazy import)。将导入放入函数内，他的作用域局限在函数内。把import放到最后。
2. 将 from xxx import yyy 改为 import xxx / import xxx.yyy (有待验证)
3. 重新组织代码
[import导入原理](http://python.jobbole.com/82604/)

---

### 数据库
[Mysql命令](http://naotu.baidu.com/file/6eb9039b077b44b11926d5ed26656136?token=6a3b16df67ce1efb)

---
### Flask
	url_for
	render_template
	redirect

#### 参数
|参数|意义|配置|
|---|---|---|
|SQLALCHEMY_DATABASE_URI||数据库类型+数据库驱动名称://用户名:口令@机器地址:端口号/数据库名?charset=utf8|
||||

#### 插件
[Flask-Admin](http://flask-admin.readthedocs.io/en/latest/)
[参看](http://www.jianshu.com/p/73b8c1252078)
[用 Flask 来写个轻博客](http://blog.csdn.net/Jmilk/article/details/53782865#目录)	

###### Flask-WTF
	CSRF 指定一个密钥。通常，这与你的 Flask 应用 SECRET_KEY 一致


##### Flask-Uploads

##### [Flask-SQLAlchemy](http://www.pythondoc.com/flask-sqlalchemy/quickstart.html)

##### [Flask-Admin](http://flask-admin.readthedocs.io/en/latest/)

###### [flask-restful](https://www.kancloud.cn/wizardforcel/flask-extension-docs/125986)
[理解RESTful架构](http://www.ruanyifeng.com/blog/2011/09/restful.html)

##### 更多
[文档](https://www.kancloud.cn/wizardforcel/flask-extension-docs/125990)

### 生词
| 单词       | 词性   |  词义  |
| --------   | -----:  | :----:  |
|exposure|N|揭发，曝光|
|Alternatively||
|dedicate||
|administrative|adj|行政的|
|convenience|N|方便|


